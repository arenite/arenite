<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <link rel="stylesheet" href="lib/jasmine.css"/>

  <!-- IoC -->
  <script type="text/javascript" src="build/ioc.js"></script>
</head>
<body>
</body>
<script>
  if (window.location.search.indexOf('?test1=test1&test2=test2&test2=another2&test2=yetanother2&invalid') === -1) {
    window.location.search = '?test1=test1&test2=test2&test2=another2&test2=yetanother2&invalid' +
    (window.location.search.indexOf('catch=false') !== -1 ? '&catch=false' : '')
  }
  IOC({
    context: {
      dependencies: {
        default: {
          sync: [
            'lib/jasmine.js',
            'lib/jasmine-html.js',
            'lib/console.js',
            'lib/boot.js'
          ],
          async: [
            'lib/blanket.js',
            'lib/blanket_jasmine.js',
            'test/ioc.test.js',
            'test/ioc.core.js',
            'test/ioc.url.js',
            'test/ioc.object.js'
          ]
        }
      },
      instances: {
        test: {
          namespace: 'IOC.Test',
          args: [{ref: 'ioc'}],
          init: {
            func: 'enableCoverage',
            args: [
              {
                value: [
                  'js/ioc.core.js',
                  'js/ioc.object.js',
                  'js/ioc.async.js',
                  'js/ioc.url.js',
                  'js/ioc.di.js'
                ]
              }
            ]
          }
        }
      },
      start: [
        {
          instance: 'test',
          func: 'runTests'
        }
      ]
    }
  });

</script>
</html>