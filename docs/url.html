<!DOCTYPE html>

<html>
<head>
  <title>url.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="annotation.html">
                  annotation.js
                </a>
              
                
                <a class="source" href="async.html">
                  async.js
                </a>
              
                
                <a class="source" href="bus.html">
                  bus.js
                </a>
              
                
                <a class="source" href="context.html">
                  context.js
                </a>
              
                
                <a class="source" href="core.html">
                  core.js
                </a>
              
                
                <a class="source" href="di.html">
                  di.js
                </a>
              
                
                <a class="source" href="html.html">
                  html.js
                </a>
              
                
                <a class="source" href="loader.html">
                  loader.js
                </a>
              
                
                <a class="source" href="object.html">
                  object.js
                </a>
              
                
                <a class="source" href="url.html">
                  url.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>url.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/*global Arenite:true*/</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Utility function for interpreting url query parameters</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Arenite.Url = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> query_string;

  <span class="hljs-keyword">var</span> _query = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">force</span>) </span>{
    <span class="hljs-keyword">if</span> (!query_string || force) {
      query_string = {};
      <span class="hljs-keyword">var</span> query = <span class="hljs-built_in">window</span>.location.search.substring(<span class="hljs-number">1</span>);
      <span class="hljs-keyword">var</span> vars = query.split(<span class="hljs-string">"&amp;"</span>);
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; vars.length; i++) {
        <span class="hljs-keyword">var</span> pair = vars[i].split(<span class="hljs-string">"="</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> query_string[pair[<span class="hljs-number">0</span>]] === <span class="hljs-string">"undefined"</span>) {
          query_string[pair[<span class="hljs-number">0</span>]] = pair[<span class="hljs-number">1</span>];
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> query_string[pair[<span class="hljs-number">0</span>]] === <span class="hljs-string">"string"</span>) {
          query_string[pair[<span class="hljs-number">0</span>]] = [query_string[pair[<span class="hljs-number">0</span>]], pair[<span class="hljs-number">1</span>]];
        } <span class="hljs-keyword">else</span> {
          query_string[pair[<span class="hljs-number">0</span>]].push(pair[<span class="hljs-number">1</span>]);
        }
      }
    }
    <span class="hljs-keyword">return</span> query_string;
  };

  <span class="hljs-keyword">return</span> {
    url: {</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h3 id="url-query">url.query</h3>
<p>Fetches the query parameters for the current url and returns them in an object.
Variables will be keys in the object and the values are either the value for the variable or an array of
values in the case where a variable is defined more than once.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      query: _query
    }
  };
};</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
